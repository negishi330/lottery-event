# 🎰 抽選システム

イベント用の演出付き抽選システムです。ボタンを押すと設定した時間（デフォルト5秒）かけて候補者が切り替わり、最終的に1つの結果が表示されます。

## 🚀 機能

### 主要機能
- **演出付き抽選**: ボタンを押すと番号が高速で切り替わり、徐々に遅くなって最終結果を表示
- **カスタマイズ可能な演出時間**: 1秒〜30秒の範囲で演出時間を設定可能
- **番号範囲設定**: 最大番号を設定して抽選範囲を指定
- **抽選履歴**: 過去の抽選結果を日時とともに保存・表示
- **メモ機能**: 抽選履歴にメモを追加・編集可能
- **重複回避**: 最近の当選者を避けて公平な抽選を実現

### 演出の特徴
- **2進数による一桁ずつの抽選演出**
- 各桁で0と1が高速で切り替わる演出
- **徐々に遅くなるイージング効果**
- 最終結果の勝利エフェクト
- レスポンシブデザイン対応

## 📁 ファイル構成

```
lottery-event-system/
├── index.html      # メインHTMLファイル
├── styles.css      # スタイルシート
├── script.js       # JavaScriptロジック
└── README.md       # このファイル
```

## 🎯 使用方法

### 1. 基本操作
1. ブラウザで `index.html` を開く
2. 「設定」パネルで演出時間と候補者を設定
3. 「🎯 抽選開始」ボタンをクリック
4. 演出が終了すると結果が表示される
5. 「🔄 リセット」ボタンで結果をクリア

### 2. 設定項目

#### 演出時間
- デフォルト: 5秒
- 範囲: 1秒〜30秒
- 0.5秒単位で調整可能
- **一桁毎の抽選時間**: 各桁の演出にかかる時間

#### 最大番号
- 1〜9999の範囲で設定可能
- デフォルト: 100
- 抽選範囲を指定

### 3. 履歴機能
- 抽選結果は自動的に履歴に保存
- 最新の結果が上部に表示
- ローカルストレージに永続化
- 日時とともに記録
- **メモ機能**: 各履歴項目にメモを追加・編集可能
- **メモ追加**: 「📝 メモ追加」ボタンで最新の抽選にメモを追加
- **メモ編集**: 各履歴項目の「📝」ボタンでメモを編集

## 🎨 デザイン

### カラーパレット
- **メイン**: グラデーション（紫〜青）
- **結果表示**: ピンク〜赤のグラデーション
- **ボタン**: 青系とオレンジ系のグラデーション
- **背景**: 紫〜青のグラデーション

### レスポンシブ対応
- デスクトップ: 最大1200px幅
- タブレット: 768px以下でレイアウト調整
- モバイル: 縦並びレイアウト

## 🔧 技術仕様

### 使用技術
- **HTML5**: セマンティックなマークアップ
- **CSS3**: モダンなスタイリングとアニメーション
- **JavaScript ES6+**: クラスベースの実装
- **LocalStorage**: 履歴データとメモの永続化

### 主要クラス
- `LotterySystem`: メインの抽選システムクラス
- 演出管理、履歴管理、UI制御を統合

### アニメーション
- CSS Keyframes: パルス効果、勝利エフェクト
- JavaScript: 動的な演出制御
- イージング関数: 徐々に遅くなる演出
- **2進数演出**: 一桁ずつ表示される2進数による抽選演出

## 🎮 カスタマイズ

### 演出時間の変更
```javascript
// script.js の animateDigit メソッド内
const baseInterval = totalAnimationTime / (maxCount * 1.5);
```

### メモ機能のカスタマイズ
```javascript
// メモの最大文字数制限
const maxMemoLength = 500; // 最大500文字
```

### 重複回避の期間
```javascript
// selectWinner メソッド内
const recentWinners = this.history.slice(-3); // 最近3回の当選者を避ける
```

## 📱 ブラウザ対応

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 📝 メモ機能

### 使用方法
1. **メモ追加**: 「📝 メモ追加」ボタンをクリック
2. **メモ入力**: モーダルでメモ内容を入力
3. **保存**: 「保存」ボタンでメモを保存
4. **編集**: 各履歴項目の「📝」ボタンでメモを編集

### メモ例
- **イベント名**: 「新年会抽選」「忘年会抽選」
- **当選者情報**: 「田中さん、特等賞」「佐藤さん、一等賞」
- **備考**: 「景品：旅行券」「景品：商品券」
- **抽選理由**: 「勤続年数10年記念」「業績優秀者表彰」

## 🚀 デプロイ

### ローカル実行
```bash
# ファイルをブラウザで開く
open index.html
```

### Webサーバーでの実行
```bash
# Python 3
python -m http.server 8000

# Node.js
npx http-server

# PHP
php -S localhost:8000
```

## 🔒 セキュリティ

- ローカルストレージのみ使用
- 外部APIへの通信なし
- クライアントサイドのみで動作

## 📝 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

**開発者**: AI Assistant  
**最終更新**: 2024年8月
